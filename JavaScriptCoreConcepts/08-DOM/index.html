<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JavaScript DOM Manipulation</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
            font-size: 2.5em;
        }
        .section {
            margin-bottom: 40px;
            padding: 20px;
            border: 2px solid #ecf0f1;
            border-radius: 10px;
            background: #f8f9fa;
        }
        .section h2 {
            color: #3498db;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
            margin-bottom: 20px;
        }
        .example {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            overflow-x: auto;
        }
        .interactive {
            background: #9b59b6;
            color: white;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
        }
        button {
            background: #3498db;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
            transition: background 0.3s;
        }
        button:hover {
            background: #2980b9;
        }
        input, select, textarea {
            padding: 8px;
            border: 2px solid #bdc3c7;
            border-radius: 5px;
            margin: 5px;
            width: 200px;
        }
        textarea {
            width: 300px;
            height: 100px;
            resize: vertical;
        }
        .nav-buttons {
            text-align: center;
            margin: 20px 0;
        }
        .nav-buttons button {
            background: #34495e;
            margin: 0 10px;
        }
        .result-display {
            background: #34495e;
            color: #ecf0f1;
            padding: 10px;
            border-radius: 5px;
            margin: 10px 0;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
        }
        .dom-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .dom-card {
            background: #ecf0f1;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #3498db;
        }
        .demo-area {
            border: 2px solid #bdc3c7;
            padding: 20px;
            margin: 10px 0;
            border-radius: 8px;
            background: #f8f9fa;
            min-height: 100px;
        }
        .demo-element {
            padding: 10px;
            margin: 5px;
            background: #3498db;
            color: white;
            border-radius: 5px;
            display: inline-block;
        }
        .highlight {
            background: #f39c12 !important;
            transform: scale(1.1);
            transition: all 0.3s;
        }
        .event-log {
            background: #2c3e50;
            color: #ecf0f1;
            padding: 10px;
            border-radius: 5px;
            max-height: 200px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: 12px;
        }
        .form-demo {
            background: #ecf0f1;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
        }
        .form-demo input, .form-demo select {
            display: block;
            margin: 10px 0;
            width: 100%;
        }
        .animation-demo {
            width: 100px;
            height: 100px;
            background: #e74c3c;
            border-radius: 50%;
            margin: 20px auto;
            transition: all 0.5s;
        }
        .animation-demo.animate {
            background: #27ae60;
            transform: scale(1.5) rotate(180deg);
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üåê JavaScript DOM Manipulation</h1>
        
        <div class="nav-buttons">
            <button onclick="window.location.href='../07-Strings/index.html'">‚¨ÖÔ∏è Previous: Strings</button>
            <button onclick="window.location.href='../README.md'">üìö Back to Guide</button>
            <button onclick="window.location.href='../09-ES6Features/index.html'">‚û°Ô∏è Next: ES6+ Features</button>
        </div>

        <!-- DOM Basics -->
        <div class="section">
            <h2>üèóÔ∏è DOM Basics</h2>
            <div class="example">
// DOM (Document Object Model) represents the HTML document as a tree
// Each HTML element is a node in this tree

// Accessing the document object
console.log(document); // The entire HTML document
console.log(document.documentElement); // <html> element
console.log(document.head); // <head> element
console.log(document.body); // <body> element

// Document properties
console.log(document.title); // Page title
console.log(document.URL); // Current URL
console.log(document.domain); // Domain name
console.log(document.readyState); // Document loading state
            </div>
            
            <div class="interactive">
                <h3>üéÆ DOM Inspector</h3>
                <button onclick="inspectDOM()">Inspect Current Page</button>
                <div id="domInspectionResult"></div>
            </div>
        </div>

        <!-- Element Selection -->
        <div class="section">
            <h2>üîç Element Selection</h2>
            <div class="example">
// Single element selection
let element = document.getElementById('myId');
let element2 = document.querySelector('.myClass');
let element3 = document.querySelector('div');

// Multiple element selection
let elements = document.getElementsByClassName('myClass');
let elements2 = document.getElementsByTagName('div');
let elements3 = document.querySelectorAll('.myClass');

// Traversing the DOM
let parent = element.parentElement;
let children = element.children;
let nextSibling = element.nextElementSibling;
let prevSibling = element.previousElementSibling;
            </div>
            
            <div class="demo-area" id="selectionDemo">
                <div class="demo-element" id="demo1">Element 1</div>
                <div class="demo-element" class="demo-class">Element 2</div>
                <div class="demo-element" class="demo-class">Element 3</div>
                <div class="demo-element" id="demo4">Element 4</div>
            </div>
            
            <div class="interactive">
                <h3>üéÆ Element Selector</h3>
                <select id="selectorType">
                    <option value="id">getElementById</option>
                    <option value="class">getElementsByClassName</option>
                    <option value="tag">getElementsByTagName</option>
                    <option value="query">querySelector</option>
                    <option value="queryAll">querySelectorAll</option>
                </select>
                <input type="text" id="selectorValue" placeholder="Enter selector value">
                <button onclick="selectElement()">Select Element</button>
                <button onclick="clearSelection()">Clear Selection</button>
                <div id="selectionResult"></div>
            </div>
        </div>

        <!-- Element Creation & Manipulation -->
        <div class="section">
            <h2>üîß Element Creation & Manipulation</h2>
            <div class="example">
// Creating elements
let newDiv = document.createElement('div');
let newParagraph = document.createElement('p');

// Setting content
newDiv.textContent = 'New div element';
newDiv.innerHTML = '<strong>Bold text</strong>';

// Setting attributes
newDiv.setAttribute('class', 'new-class');
newDiv.setAttribute('id', 'new-id');
newDiv.className = 'another-class';
newDiv.id = 'another-id';

// Adding/removing classes
newDiv.classList.add('active');
newDiv.classList.remove('inactive');
newDiv.classList.toggle('visible');
newDiv.classList.contains('active'); // true/false

// Appending/removing elements
parentElement.appendChild(newDiv);
parentElement.insertBefore(newDiv, referenceElement);
parentElement.removeChild(childElement);
newDiv.remove(); // Modern way
            </div>
            
            <div class="demo-area" id="creationDemo">
                <p>This is the parent container</p>
            </div>
            
            <div class="interactive">
                <h3>üéÆ Element Creator</h3>
                <input type="text" id="elementType" placeholder="Element type (div, p, span)" value="div">
                <input type="text" id="elementContent" placeholder="Element content">
                <input type="text" id="elementClass" placeholder="CSS class">
                <button onclick="createElement()">Create Element</button>
                <button onclick="clearCreatedElements()">Clear All</button>
                <div id="creationResult"></div>
            </div>
        </div>

        <!-- Element Properties & Styles -->
        <div class="section">
            <h2>üé® Element Properties & Styles</h2>
            <div class="example">
// Element properties
element.id = 'new-id';
element.className = 'class1 class2';
element.title = 'Tooltip text';

// Style manipulation
element.style.backgroundColor = 'red';
element.style.fontSize = '16px';
element.style.margin = '10px';

// Getting computed styles
let computedStyle = window.getComputedStyle(element);
let backgroundColor = computedStyle.backgroundColor;

// Data attributes
element.setAttribute('data-user-id', '123');
element.dataset.userId = '123'; // Modern way
let userId = element.dataset.userId;
            </div>
            
            <div class="demo-area" id="styleDemo">
                <div class="demo-element" id="styleElement">Style me!</div>
            </div>
            
            <div class="interactive">
                <h3>üéÆ Style Manipulator</h3>
                <select id="styleProperty">
                    <option value="backgroundColor">Background Color</option>
                    <option value="color">Text Color</option>
                    <option value="fontSize">Font Size</option>
                    <option value="padding">Padding</option>
                    <option value="borderRadius">Border Radius</option>
                    <option value="transform">Transform</option>
                </select>
                <input type="text" id="styleValue" placeholder="Value (e.g., red, 20px, rotate(45deg))">
                <button onclick="applyStyle()">Apply Style</button>
                <button onclick="resetStyles()">Reset Styles</button>
                <div id="styleResult"></div>
            </div>
        </div>

        <!-- Event Handling -->
        <div class="section">
            <h2>üéØ Event Handling</h2>
            <div class="example">
// Adding event listeners
element.addEventListener('click', function(event) {
    console.log('Element clicked!');
    console.log(event.target); // Element that was clicked
    console.log(event.type); // 'click'
});

// Removing event listeners
function handleClick(event) {
    console.log('Handled click');
}
element.addEventListener('click', handleClick);
element.removeEventListener('click', handleClick);

// Event object properties
element.addEventListener('click', function(event) {
    event.preventDefault(); // Prevent default behavior
    event.stopPropagation(); // Stop event bubbling
    console.log(event.clientX, event.clientY); // Mouse coordinates
});
            </div>
            
            <div class="demo-area" id="eventDemo">
                <button class="demo-element" id="clickButton">Click Me!</button>
                <div class="demo-element" id="hoverElement">Hover Over Me!</button>
                <input type="text" id="inputElement" placeholder="Type something...">
            </div>
            
            <div class="interactive">
                <h3>üéÆ Event Logger</h3>
                <div class="event-log" id="eventLog">Event log will appear here...</div>
                <button onclick="clearEventLog()">Clear Log</button>
            </div>
        </div>

        <!-- Form Handling -->
        <div class="section">
            <h2>üìù Form Handling</h2>
            <div class="example">
// Form element selection
let form = document.getElementById('myForm');
let input = document.getElementById('myInput');
let select = document.getElementById('mySelect');

// Getting form values
let inputValue = input.value;
let selectedOption = select.value;
let checked = checkbox.checked;

// Form submission
form.addEventListener('submit', function(event) {
    event.preventDefault(); // Prevent form submission
    let formData = new FormData(form);
    
    // Process form data
    for (let [key, value] of formData.entries()) {
        console.log(key, value);
    }
});

// Input validation
input.addEventListener('input', function(event) {
    let value = event.target.value;
    if (value.length < 3) {
        input.setCustomValidity('Must be at least 3 characters');
    } else {
        input.setCustomValidity('');
    }
});
            </div>
            
            <div class="form-demo">
                <form id="demoForm">
                    <input type="text" id="nameInput" placeholder="Enter your name" required>
                    <input type="email" id="emailInput" placeholder="Enter your email" required>
                    <select id="countrySelect">
                        <option value="">Select a country</option>
                        <option value="us">United States</option>
                        <option value="uk">United Kingdom</option>
                        <option value="ca">Canada</option>
                    </select>
                    <input type="checkbox" id="newsletterCheck"> Subscribe to newsletter
                    <button type="submit">Submit Form</button>
                </form>
            </div>
            
            <div class="interactive">
                <h3>üéÆ Form Handler</h3>
                <button onclick="getFormData()">Get Form Data</button>
                <button onclick="validateForm()">Validate Form</button>
                <button onclick="resetForm()">Reset Form</button>
                <div id="formResult"></div>
            </div>
        </div>

        <!-- Advanced DOM Concepts -->
        <div class="section">
            <h2>üöÄ Advanced Concepts</h2>
            <div class="dom-grid">
                <div class="dom-card">
                    <h4>üîÑ Event Delegation</h4>
                    <div class="example">
// Instead of adding listeners to each element
parent.addEventListener('click', function(event) {
    if (event.target.matches('.button')) {
        console.log('Button clicked:', event.target);
    }
});

// Benefits: fewer listeners, works with dynamic content
                    </div>
                </div>
                
                <div class="dom-card">
                    <h4>üì¶ Document Fragments</h4>
                    <div class="example">
// Efficient way to add multiple elements
let fragment = document.createDocumentFragment();

for (let i = 0; i < 100; i++) {
    let div = document.createElement('div');
    div.textContent = 'Item ' + i;
    fragment.appendChild(div);
}

container.appendChild(fragment); // Single DOM update
                    </div>
                </div>
                
                <div class="dom-card">
                    <h4>üëÅÔ∏è Intersection Observer</h4>
                    <div class="example">
// Observe when elements enter/exit viewport
let observer = new IntersectionObserver(function(entries) {
    entries.forEach(entry => {
        if (entry.isIntersecting) {
            entry.target.classList.add('visible');
        }
    });
});

observer.observe(element);
                    </div>
                </div>
                
                <div class="dom-card">
                    <h4>üé≠ Custom Elements</h4>
                    <div class="example">
// Create custom HTML elements
class MyElement extends HTMLElement {
    constructor() {
        super();
        this.innerHTML = '<div>Custom content</div>';
    }
}

customElements.define('my-element', MyElement);
// Usage: <my-element></my-element>
                    </div>
                </div>
            </div>
        </div>

        <!-- Performance & Best Practices -->
        <div class="section">
            <h2>‚ö° Performance & Best Practices</h2>
            <div class="example">
// ‚úÖ Good practices

// Cache DOM queries
let element = document.getElementById('myElement');
// Use 'element' multiple times instead of querying again

// Use document fragments for multiple insertions
let fragment = document.createDocumentFragment();
// Add elements to fragment, then append fragment once

// Use event delegation for dynamic content
parent.addEventListener('click', handleClick);

// Batch DOM updates
// Make all changes, then trigger reflow once

// Use requestAnimationFrame for animations
requestAnimationFrame(() => {
    element.style.transform = 'translateX(100px)';
});

// ‚ùå Avoid
// Querying DOM in loops
for (let i = 0; i < 100; i++) {
    document.getElementById('element'); // Bad
}

// Inline event handlers
<button onclick="handleClick()">Click</button> // Bad
            </div>
            
            <div class="interactive">
                <h3>üéÆ Performance Demo</h3>
                <button onclick="performanceTest()">Run Performance Test</button>
                <div id="performanceResult"></div>
            </div>
        </div>

        <!-- Animation & Transitions -->
        <div class="section">
            <h2>üé¨ Animation & Transitions</h2>
            <div class="example">
// CSS transitions
element.style.transition = 'all 0.3s ease';
element.style.transform = 'scale(1.2)';

// CSS animations
element.style.animation = 'bounce 1s infinite';

// JavaScript animations
function animate() {
    let start = performance.now();
    
    function step(timestamp) {
        let progress = (timestamp - start) / 1000;
        element.style.transform = `translateX(${progress * 100}px)`;
        
        if (progress < 1) {
            requestAnimationFrame(step);
        }
    }
    
    requestAnimationFrame(step);
}
            </div>
            
            <div class="demo-area">
                <div class="animation-demo" id="animationDemo"></div>
            </div>
            
            <div class="interactive">
                <h3>üéÆ Animation Controller</h3>
                <button onclick="startAnimation()">Start Animation</button>
                <button onclick="stopAnimation()">Stop Animation</button>
                <button onclick="resetAnimation()">Reset</button>
                <div id="animationResult"></div>
            </div>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>
